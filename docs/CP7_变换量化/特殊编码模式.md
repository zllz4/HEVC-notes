# 特殊编码模式

## 1 简介

### 1.1 概述

为了针对性地编码某些像素分布规律特殊的视频或是满足一些特定要求，HEVC 中有三种特殊的编码模式，分别为 **I_PCM 模式**、**lossless 模式**以及 **transform skip 模式** ，特殊编码模式**跳过了常见编码模式的某些编码步骤**

### 1.2 特殊模式

以下为三个特殊模式的示意图

![特殊编码模式_3609](markdown_images/%E7%89%B9%E6%AE%8A%E7%BC%96%E7%A0%81%E6%A8%A1%E5%BC%8F_3609.png)

1. I_PCM 模式**跳过了预测编码和变换编码的所有步骤**，**直接编码像素值**，I_PCM 模式由 CU 层次的 `pcm_flag` 控制，用于传输的图片接近噪声（没有任何规律）导致目前的编码手段低效或无效的情况
2. lossless 模式用于无损传输，其**跳过了会产生误差的残差 DCT 变换和编码部分（也跳过了环路滤波）**，**直接编码残差值**，其由 CU 层次的 `cu_transquant_bypass_flag` 控制，可以做到一部分图片 lossy 模式传输而另一部分图片以 lossless mode 传输（mixed lossless/lossy coding）
3. transform skip 模式用于改善**远程桌面**、**幻灯片**等主要由文字和图片组成的（机器产生的？）视频序列的显示效果，这些视频序列的图像区域边缘可能存在颜色突变，造成 DCT 变换中存在较多高频分量，其**对空域残差直接进行量化而不进行 DCT 变换**，只能使用于 4x4 大小的 TB，由 TB 层次的 `transform_skip_flag` 控制